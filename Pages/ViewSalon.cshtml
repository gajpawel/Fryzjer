@page
@using Fryzjer.Models
@model Fryzjer.Pages.ViewSalonModel
@inject IWebHostEnvironment Environment
@{
}

<!-- DODAĆ SPRAWDZENIE BANNERA JAK BĘDZIE JUŻ DODANE W BAZIE-->

@if(Model.Place != null) 
{
	<div class="container rounded" style="background-image: url(../images/salon_stock.jpg); padding-top: 12px; padding-bottom: 12px">
		<div class="row">
			<div class="col-3">
				@if(Model.IsFileAvailable(Model.Place.logoPath))
				{
					<img src="@Model.Place.logoPath" alt="Logo Salonu" class="rounded img-thumbnail">
				}
				else
				{
					<img src="~/images/default_logo.jpg" alt="Domyślne Logo" class="rounded img-thumbnail">
				}
			</div>
		</div>
	</div>
	<div>
		<div class="card shadow">
			<div class="container" style="padding: 10px">
				<div class="row">
					<div class="col-6">
						<h1 class="display-4">
							@Html.DisplayFor(modelItem => Model.Place.Name)
						</h1>
					</div>
					<div class="col-6">
						<p style="text-align: right; padding-top: 20px">
							@Html.DisplayFor(modelItem => Model.Place.address)
							<br>
							@Html.DisplayFor(modelItem => Model.Place.telephoneNumber)
						</p>
					</div>
				</div>
			</div>

			<!-- Tutaj będzie pobranie opisu z bazy danych-->
			<div class="card-header bg-teal text-center">
				<h3>Opis</h3>
			</div>
			<div class="container content-padding">
				<a style="text-align: justify">
					Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
				</a>
			</div>

			<div class="card-header bg-teal text-center">
				<h3>Oferowane Usługi</h3>
			</div>
			<div class="container content-padding">
				<table class="table table-striped table-borderless">
					<thead class="bg-lgray" style="color: black">
						<tr>
							<th scope="col">Usługa</th>
							<th scope="col">Cena</th>
						</tr>
					</thead>
					@foreach (var serv in Model.Services)
					{
						<tr>
							<th scope="col">
								@Html.DisplayFor(modelItem => serv.Name)
							</th>
							<th scope="col">
								@Html.DisplayFor(modelItem => serv.Price)zł
							</th>
						</tr>
					}
				</table>
				@if (Model.CheckClientSession())
				{
					<div class="row">
						<div class="col-4"></div>
						<div class="col-4">
							<a href="@Url.Page("/Clients/ServiceSelectForm", new { id = Model.SalonId })" class="btn btn-dark mx-auto d-block">
								Zamów Usługę
							</a>
						</div>
					</div>
				}
			</div>

			<div class="card-header bg-teal text-center">
				<h3>Nasi Pracownicy</h3>
			</div>
			<div class="row content-padding">
				@foreach (var person in Model.Hairdressers)
				{
					<div class="col-6 col-lg-4" style="margin-top: 15px">
						<div class="p-3 border">
							<div class="row">
								<div class="col-3">
									<div class="ratio ratio-1x1">
										@if (Model.IsFileAvailable(person.photoPath))
										{
										<img src="@person.photoPath" alt="Zdjęcie Pracownika" class="rounded img-fluid" style="object-fit: cover">
										}
										else
										{
										<img src="~/images/default-profile.jpg" alt="Brak zdjęcia" class="rounded img-fluid " style="object-fit: cover">
										}
									</div>
								</div>
								<div class="row col-9">
									<div class="row">
										<h5>
											@Html.DisplayFor(modelItem => person.Name)
											<br />
											@Html.DisplayFor(modelItem => person.Surname)
										</h5>
									</div>
								</div>
							</div>
						</div>
					</div>
				}
			</div>


		</div>
	</div>

}


